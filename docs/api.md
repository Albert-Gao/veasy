# API

## 1. createInitialState(schema, userState)

### Arguments

1. schema: Object
    - It's a set of validation rule which write in JSON. See [schema](/schema) chapter for more information.
1. userState: Object, Optional
    - It's an object which represents your customized state which you want to get merged with the state generated by `veasy`.

### Return

a state object which you can set as the initial state of the current component.

### More

- To learn how to [add your own state to the root level of generated state](/customize-add).
- To learn how to [add your own state as a child of field item state](/customize-reuse).

## 2. getFieldsValue(schema, state, mustOK)

### Arguments

1. schema: Object
    - It's a set of validation rule which write in JSON. See [schema](/schema) chapter for more information.
1. state: Object
    - It's the whole state of the current component, you can get it via `this.state`.
1. mustOK: boolean, default to true
    - If set to true, it will only return the fields which status equals `ok`.
    - If set to false, it will return values from all the fields which includes in the schema even its status equals to `error`.

### Return

an object with all the values of the fields.

```javascript
{
  title: 'abc',
  description: 'this is good.'
  author: 'albert'
}
```

### Tips:

Even some of the fields are not included in the `schema` for validation, you can still grab its value, check [collect-values](/collect-values) for more information.

## 3. validate(e, schema, allState, update)

### Arguments

1. e: Event
    - The event of onChange.
1. schema: Object
    - It's a set of validation rule which write in JSON. See [schema](/schema) chapter for more information.
1. allState: Object
    - It's the whole state of the current component, you can get it via `this.state`.
1. update: Function
    - It's the function for update the state, most of the time, it should be as simple as `(newState) => this.setState(newState)`

### Tips

You will need this, when you are dealing with a component A inside component B, and component B is included in the `schema`, which will prevent `VeasyForm` to bind component A, since it will only bind component B, while the `createInitialState()` still works, you just need to bind `value`, `status`, `errorText` and `onChange` yourself. And inside `onChange`, you just need to call this `validate()` and pass all these 4 parameters.

## 4. FieldStatus

It's a object which contains 3 property for you to refer the 3 status of field to prevent add raw string in the code.

```javascript
import { FieldStatus } from 'veasy';

FieldStatus.ok
FieldStatus.error
FieldStatus.normal
```

!> Do not set its value! Just use it to refer.
